:root{
  --bg: #070A12;
  --text: rgba(255,255,255,.92);
  --muted: rgba(255,255,255,.70);

  --glass: rgba(255,255,255,.08);
  --glass2: rgba(255,255,255,.12);
  --stroke: rgba(255,255,255,.14);

  --shadow: 0 20px 70px rgba(0,0,0,.55);
  --shadow2: 0 10px 30px rgba(0,0,0,.35);

/* LENTE (como antes) */
--lens-pad: clamp(10px, 2.2vw, 26px);
--lens-radius: clamp(18px, 2.4vw, 36px);
--lens-zoom: 1.03; /* levemente zoom in */
}

*{ box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin:0;
  background: var(--bg);
  color: var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
}

.page{
  min-height: 100svh; /* melhor no mobile */
  position: relative;
  overflow: hidden;
  padding: 28px 18px;
}

@supports (height: 100dvh){
  .page{ min-height: 100dvh; }
  .bgVideo{ height: 100dvh; }
}


/* Espaço “céu + soldados” antes de começar o ranking */
.page.isRanking .rankHeroSpace{
  height: clamp(600px, 32vh, 700px); /* ajuste até “bater” na terra */
}

/* no ranking, sem padding externo pra imagem ir até as bordas */
.page.isRanking{
  padding: 0;
}

/* =========================
   VÍDEO
   ========================= */
/* FUNDO: full-bleed (sem borda, sem raio, sem sombra) */
.bgVideo{
  position: fixed;   /* mais garantido que absolute */
  inset: 0;
  width: 100vw;
  height: 100vh;
  pointer-events: none;
  border-radius: 0;
  overflow: hidden;
  box-shadow: none;
}




.bgVideoBase{
  background: var(--bg); /* só o base tem fallback */
}

/* micro-otimizações (fora do bloco!) */
.bgVideo, .bgFrame{
  transform: translateZ(0);
  backface-visibility: hidden;
}
.bgVideoBlurLeft, .bgVideoBlurRight{
  contain: paint;
}

.bgFrame{
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: 50% 55%;
  background-repeat: no-repeat;

  opacity: 0;
  z-index: 0;

  /* transição suave */
  transition: opacity 1.35s ease-in-out;
  will-change: opacity;

  /* evita “flash” escuro se a imagem demorar 1 frame pra aparecer */
  background-color: var(--bg);
}

/* a nova entra na frente e começa a aparecer imediatamente */
.bgFrame.isActive{
  opacity: 1;
  z-index: 1;
}

.bgVideoBase .bgFrame{
  transform: none !important;
  transform-origin: center;
  will-change: opacity, transform;
}


.bgVideoBase{
  z-index: 0;
  transform: scale(var(--lens-zoom)); /* usa a variável */
  transform-origin: center;
  filter: saturate(1.05) contrast(1.05) brightness(.68);
}

/* Base comum dos vídeos borrados */
.bgVideoBlurLeft,
.bgVideoBlurRight{
  z-index: 1;
  pointer-events: none;
  opacity: 0;

  will-change: opacity;
  transition: opacity .55s cubic-bezier(.2,.8,.2,1);

  filter: blur(16px) saturate(1.06) contrast(1.03) brightness(.74);
  transform: scale(1.06);
}

/* Saída mais lenta (quando tira o mouse) */
.page:not(.hoverLeft):not(.hoverRight) .bgVideoBlurLeft,
.page:not(.hoverLeft):not(.hoverRight) .bgVideoBlurRight{
  transition-duration: 1.15s;
}

/* Máscara: blur SÓ na ESQUERDA */
.bgVideoBlurLeft{
  -webkit-mask-image: linear-gradient(
    90deg,
    rgba(255,255,255,1) 0%,
    rgba(255,255,255,1) 22%,
    rgba(255,255,255,0.18) 36%,
    rgba(255,255,255,0) 46%,
    rgba(255,255,255,0) 100%
  );
  mask-image: linear-gradient(
    90deg,
    rgba(255,255,255,1) 0%,
    rgba(255,255,255,1) 22%,
    rgba(255,255,255,0.18) 36%,
    rgba(255,255,255,0) 46%,
    rgba(255,255,255,0) 100%
  );
  -webkit-mask-repeat: no-repeat;
-webkit-mask-size: 100% 100%;
mask-repeat: no-repeat;
mask-size: 100% 100%;
}

/* Máscara: blur SÓ na DIREITA */
.bgVideoBlurRight{
  -webkit-mask-image: linear-gradient(
    90deg,
    rgba(255,255,255,0) 0%,
    rgba(255,255,255,0) 56%,
    rgba(255,255,255,0.18) 66%,
    rgba(255,255,255,1) 78%,
    rgba(255,255,255,1) 100%
  );
  mask-image: linear-gradient(
    90deg,
    rgba(255,255,255,0) 0%,
    rgba(255,255,255,0) 56%,
    rgba(255,255,255,0.18) 66%,
    rgba(255,255,255,1) 78%,
    rgba(255,255,255,1) 100%
  );
  -webkit-mask-repeat: no-repeat;
-webkit-mask-size: 100% 100%;
mask-repeat: no-repeat;
mask-size: 100% 100%;
}

/* Hover no botão ESQUERDO -> borra DIREITA */
.page.hoverLeft .bgVideoBlurRight{ opacity: .92; }

/* Hover no botão DIREITO -> borra ESQUERDA */
.page.hoverRight .bgVideoBlurLeft{ opacity: .92; }

.overlay{
  position: fixed;   /* idem */
  inset: 0;
  border-radius: 0;
  pointer-events: none;
  z-index: 2;
  background: linear-gradient(to bottom, rgba(0,0,0,.30), rgba(0,0,0,.60));
}




/* =========================
   HEADER
   ========================= */
.topLeftTitle{
  position: absolute;
  z-index: 3;
  top: 18px;
  left: 18px;

  padding: 10px 12px;
  border-radius: 12px;

  /* discreto, mas premium */
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  backdrop-filter: blur(10px);

  color: rgba(255,255,255,.86);
  font-size: 14px;
  font-weight: 600;
  letter-spacing: .02em;
  text-shadow: 0 8px 22px rgba(0,0,0,.45);
}

/* =========================
   OPÇÕES (esq / dir) — PREMIUM
   ========================= */

.optionsPremium{
  position: absolute;
  z-index: 3;
  left: 0;
  right: 0;
  bottom: clamp(18px, 4vh, 44px);

  display: grid;
  grid-template-columns: repeat(2, minmax(240px, 1fr));
  gap: 22px;

  padding: 0 clamp(16px, 4vw, 64px);
  max-width: 1200px;
  margin: 0 auto;
}

.optionPremium{
  position: relative;
  overflow: hidden;

  min-height: 140px;
  padding: 18px 20px 16px;
  border-radius: 22px;

  background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(0,0,0,.22));
  border: 1px solid rgba(255,255,255,.16);
  box-shadow: 0 18px 55px rgba(0,0,0,.45);

  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);

  color: rgba(255,255,255,.92);
  cursor: pointer;

  display: grid;
  gap: 10px;

  transform: translateZ(0);
  transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease, opacity .18s ease;
}

.optionLeft.optionPremium{
  --a1: rgba(120, 170, 255, .85);
  --a2: rgba(180, 140, 255, .55);
  text-align: left;
}
.optionRight.optionPremium{
  --a1: rgba(255, 210, 120, .85);
  --a2: rgba(120, 170, 255, .55);
  text-align: right;
}

.optionTopRow{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.optionKicker{
  font-size: 11px;
  letter-spacing: .22em;
  text-transform: uppercase;
  color: rgba(255,255,255,.70);
}

.optionBadge{
  font-size: 11px;
  letter-spacing: .18em;
  text-transform: uppercase;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.14);
  color: rgba(255,255,255,.80);
}
.optionBadgeLive{
  background: rgba(120,170,255,.10);
  border-color: rgba(120,170,255,.24);
}

.optionTitle{
  font-size: 22px;
  font-weight: 850;
  letter-spacing: -0.02em;
}

.optionDesc{
  font-size: 13px;
  color: rgba(255,255,255,.72);
}

.optionCTA{
  margin-top: 2px;
  display: inline-flex;
  align-items: center;
  gap: 10px;

  font-size: 13px;
  font-weight: 750;
  color: rgba(255,255,255,.86);
}
.optionRight.optionPremium .optionCTA{
  justify-content: flex-end;
}

.optionArrow{
  display: inline-block;
  transform: translateX(0);
  transition: transform .18s ease;
}

.optionPremium::before{
  content: "";
  position: absolute;
  inset: 0;
  padding: 1px;
  border-radius: inherit;
  background: linear-gradient(135deg, var(--a1), var(--a2), rgba(255,255,255,.12));
  opacity: .55;
  pointer-events: none;

  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask:
  linear-gradient(#000 0 0) content-box,
  linear-gradient(#000 0 0);
  mask-composite: exclude;
}

.optionPremium::after{
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;

  background: radial-gradient(520px circle at var(--mx, 50%) var(--my, 50%),
    rgba(255,255,255,.18),
    rgba(255,255,255,0) 55%
  );
  opacity: 0;
  transition: opacity .18s ease;
}

.optionSheen{
  position: absolute;
  inset: -40%;
  pointer-events: none;
  opacity: 0;

  background: linear-gradient(
    120deg,
    transparent 40%,
    rgba(255,255,255,.16) 50%,
    transparent 60%
  );
  transform: translateX(-65%) rotate(8deg);
}

@keyframes sheenPass{
  from { transform: translateX(-65%) rotate(8deg); }
  to   { transform: translateX(65%)  rotate(8deg); }
}

.optionPremium:hover{
  transform: translateY(-4px) scale(1.01);
  border-color: rgba(255,255,255,.22);
  box-shadow:
    0 24px 80px rgba(0,0,0,.55),
    0 0 0 1px rgba(255,255,255,.08) inset;
}
.optionPremium:hover::after{ opacity: 1; }
.optionPremium:hover .optionSheen{
  opacity: 1;
  animation: sheenPass 1.05s ease;
}
.optionPremium:hover .optionArrow{ transform: translateX(4px); }

.optionPremium:active{
  transform: translateY(-2px) scale(.995);
}

.optionPremium:focus-visible{
  outline: none;
  box-shadow:
    0 24px 80px rgba(0,0,0,.55),
    0 0 0 4px rgba(120,170,255,.22);
}

.page.hoverLeft .optionRight.optionPremium{
  opacity: .78;
  transform: translateY(-1px) scale(.995);
}
.page.hoverRight .optionLeft.optionPremium{
  opacity: .78;
  transform: translateY(-1px) scale(.995);
}

@media (max-width: 720px){
  .optionsPremium{
    grid-template-columns: 1fr;
  }
  .optionRight.optionPremium{
    text-align: left;
  }
  .optionRight.optionPremium .optionCTA{
    justify-content: flex-start;
  }
}

/* altura mínima pra imagem caber inteira */
.page.isRanking .rankPage{
  --bgW: min(2560px, 100vw);
  --bgH: calc(var(--bgW) * var(--rankBgRatio, 3.125));
  --offsetFix: max(calc(var(--rankBgOffsetY, 0px) * -1), 0px);
  min-height: max(100vh, calc(var(--bgH) + var(--offsetFix)));
}


.rankTopBar{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 14px;
}

.rankActions{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.rankCard{
  border-radius: 18px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  backdrop-filter: blur(10px);
  box-shadow: var(--shadow2);
  padding: 16px;
}

.rankCardHeader{
  display: grid;
  gap: 6px;
  padding: 8px 6px 14px;
}

.rankTitle{
  font-size: 18px;
  font-weight: 800;
  letter-spacing: .02em;
}

.rankSubtitle{
  color: rgba(255,255,255,.72);
  font-size: 13px;
}


.addTeenRow{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
  padding: 10px 6px 16px;
  border-top: 1px solid rgba(255,255,255,.10);
}

.textInput{
  flex: 1;
  min-width: 220px;
  padding: 12px 12px;
  border-radius: 12px;
  background: rgba(0,0,0,.25);
  border: 1px solid rgba(255,255,255,.12);
  color: rgba(255,255,255,.92);
  outline: none;
}

.textInput:focus{
  border-color: rgba(120,170,255,.35);
  box-shadow: 0 0 0 4px rgba(120,170,255,.18);
}

.smallBtn{
  padding: 10px 12px;
  border-radius: 12px;
  background: rgba(255,255,255,.07);
  border: 1px solid rgba(255,255,255,.14);
  color: rgba(255,255,255,.9);
  cursor: pointer;
  transition: transform .15s ease, background .15s ease, border-color .15s ease;
}

.smallBtn:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,.10);
  border-color: rgba(255,255,255,.22);
}

.smallBtnPrimary{
  background: rgba(120,170,255,.18);
  border-color: rgba(120,170,255,.35);
}

.smallBtnActive{
  background: rgba(255,210,120,.14);
  border-color: rgba(255,210,120,.30);
}

.dangerBtn{
  background: rgba(255,120,120,.12);
  border-color: rgba(255,120,120,.24);
}

.tinyBtn{
  padding: 8px 10px;
  border-radius: 10px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  color: rgba(255,255,255,.85);
  cursor: pointer;
}

.rankList{
  display: grid;
  gap: 10px;
  padding: 6px;
}

.rankRow{
  display: grid;
  grid-template-columns: 58px 1fr 80px auto 80px;
  gap: 10px;
  align-items: start;
  padding: 12px;
  border-radius: 14px;
  background: rgba(0,0,0,.20);
  border: 1px solid rgba(255,255,255,.10);
}

.rankPos{
  font-weight: 800;
  color: rgba(255,255,255,.80);
}

.rankName{
  font-weight: 800;
}

.rankTotal{
  font-weight: 900;
  text-align: right;
}

.rankBreakdown{
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  justify-content: flex-start;
}

.pill{
  font-size: 12px;
  padding: 6px 8px;
  border-radius: 999px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
  color: rgba(255,255,255,.80);
}

/* Bulk mode */
.bulkGrid{
  display: grid;
  gap: 10px;
  padding: 6px;
}

.bulkHeader,
.bulkRow{
  display: grid;
  grid-template-columns: 240px repeat(6, 1fr);
  gap: 10px;
  align-items: stretch;
}

.bulkHeader{
  padding: 10px;
  border-radius: 14px;
  background: rgba(255,255,255,.05);
  border: 1px solid rgba(255,255,255,.10);
}

.bulkNameCol{
  padding: 8px 10px;
  display: grid;
  gap: 4px;
}

.bulkCat{
  font-weight: 800;
  font-size: 12px;
}
.bulkPts{
  font-size: 12px;
  color: rgba(255,255,255,.72);
}

.bulkRow{
  padding: 10px;
  border-radius: 14px;
  background: rgba(0,0,0,.18);
  border: 1px solid rgba(255,255,255,.10);
}

.bulkName{
  font-weight: 900;
}
.bulkCurrent{
  font-size: 12px;
  color: rgba(255,255,255,.70);
}

.bulkCell{
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  border-radius: 12px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.10);
  cursor: pointer;
  user-select: none;
  padding: 8px;
}

.bulkCell input{
  transform: scale(1.05);
}

.bulkChecked{
  background: rgba(120,170,255,.12);
  border-color: rgba(120,170,255,.24);
}

.checkLabel{
  font-size: 12px;
  color: rgba(255,255,255,.75);
}

/* Modal settings */
.modalOverlay{
  position: fixed;
  inset: 0;
  z-index: 9999;              /* <- bem acima de tudo */
  background: rgba(0,0,0,.55);
  display: grid;
  place-items: center;
  padding: 18px;
}

.modalCard{
  width: min(520px, 100%);
  border-radius: 18px;
  background: rgba(20,24,34,.92);
  border: 1px solid rgba(255,255,255,.14);
  box-shadow: 0 20px 70px rgba(0,0,0,.55);
  backdrop-filter: blur(10px);
  padding: 14px;
}


.modalHeader{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 8px 6px 12px;
}

.modalTitle{
  font-weight: 900;
}

.settingsGrid{
  display: grid;
  gap: 10px;
  padding: 6px;
}

.settingsRow{
  display: grid;
  grid-template-columns: 1fr 120px;
  gap: 10px;
  align-items: center;
  padding: 10px;
  border-radius: 14px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.10);
}

.settingsLabel{
  color: rgba(255,255,255,.85);
}

.numInput{
  width: 100%;
  padding: 10px 10px;
  border-radius: 12px;
  background: rgba(0,0,0,.25);
  border: 1px solid rgba(255,255,255,.12);
  color: rgba(255,255,255,.92);
  outline: none;
}

.numInput:focus{
  border-color: rgba(120,170,255,.35);
  box-shadow: 0 0 0 4px rgba(120,170,255,.18);
}

.modalFooter{
  display: flex;
  justify-content: flex-end;
  padding: 10px 6px 6px;
}

@media (max-width: 980px){
  .rankRow{
    grid-template-columns: 58px 1fr 70px;
    grid-template-rows: auto auto;
  }
  .rankBreakdown{ grid-column: 1 / -1; }
}

@media (max-width: 860px){
  .bulkHeader,
  .bulkRow{
    grid-template-columns: 1fr;
  }
}

.rankHeroImg{
  width: 100%;
  height: auto;
  display: block;
  filter: drop-shadow(0 18px 50px rgba(0,0,0,.55));
}


/* garante que o conteúdo fique na frente das texturas */
.rankWorld > *{
  position: relative;
  z-index: 1;
}

/* (quando quiser água depois, a gente ativa com uma classe e um ::after) */

.rankPage{
  position: relative;
  z-index: 3;
  padding: 70px clamp(14px, 4vw, 60px) 110px;
  background: #070A12;
    --rankBgSize: min(2560px, 100vw) auto; /* desktop */
  --rankBgPosY: 55%;
}


/* CAMADA 1: WEBP (aparece primeiro) */
.page.isRanking .rankPage::before{
  content:"";
  position:absolute;
  inset:0;
  z-index:0;

  background-image: var(--rankBgLow);
  background-repeat: no-repeat;
  background-position: 50% calc(var(--rankBgPosY, 55%) + var(--rankBgOffsetY, 0px));
background-size: var(--rankBgSize, min(2560px, 100vw) auto);

  opacity: 1;
}

/* CAMADA 2: PNG (entra depois, mais nítido) */
.page.isRanking .rankPage::after{
  content:"";
  position:absolute;
  inset:0;
  z-index:0;

  background-image: var(--rankBgHigh);
  background-repeat: no-repeat;
  background-position: 50% calc(var(--rankBgPosY, 55%) + var(--rankBgOffsetY, 0px));
background-size: var(--rankBgSize, min(2560px, 100vw) auto);

  opacity: 0;
  transition: opacity .35s ease;
  will-change: opacity;
}

/* quando o PNG estiver pronto, faz crossfade por cima */
.page.isRanking.rankPngReady .rankPage::after{
  opacity: 1;
}

/* sombreado por cima das imagens (pra leitura) */
.page.isRanking .rankPage{
  isolation: isolate; /* garante pilha de camadas */
}
.page.isRanking .rankPage > *{
  position: relative;
  z-index: 2;
}
.page.isRanking .rankPage::before,
.page.isRanking .rankPage::after{
  pointer-events: none;
}

@media (max-width: 720px){
  :root{
    --lens-zoom: 1.14; /* zoom in do fundo no celular */
  }

  /* Enquadra melhor os frames do fundo no mobile */
  .bgFrame{
    background-position: 50% 50%;
  }

  /* Ranking: ocupa a tela e dá crop bonito (sem “sobras”) */
  .page.isRanking .rankPage{
    --rankBgSize: cover; /* aqui é o “caber direitinho” */
    --rankBgPosY: 50%;   /* ajuste fino do foco */
  }

  /* safe-area (notch) sem dor */
  .topLeftTitle{
    top: calc(env(safe-area-inset-top) + 12px);
    left: calc(env(safe-area-inset-left) + 12px);
  }
  .optionsPremium{
    bottom: calc(env(safe-area-inset-bottom) + 18px);
    padding: 0 14px;
    gap: 14px;
  }
}

/* ===== Ranking: topbar legível + sem blur exagerado ===== */

/* barra do topo clara, com texto preto */
.page.isRanking .rankTopBar{
  position: sticky;
  top: 0;
  z-index: 6;

  margin: 0;
  padding: 12px clamp(14px, 4vw, 60px);

  background: transparent;     /* <- transparente */
  border-bottom: none;         /* <- sem borda */
  backdrop-filter: none;       /* <- sem blur */
}


/* botões do topo (texto preto) */
.page.isRanking .rankTopBar .smallBtn,
.page.isRanking .rankTopBar .tinyBtn{
  background: transparent;
  border: 1px solid rgba(0,0,0,.18);
  color: rgba(0,0,0,.88);
}

.page.isRanking .rankTopBar .smallBtn:hover,
.page.isRanking .rankTopBar .tinyBtn:hover{
  background: rgba(0,0,0,.10);
  border-color: rgba(0,0,0,.26);
}

.page.isRanking .rankTopBar .smallBtnPrimary{
  background: rgba(120,170,255,.35);
  border-color: rgba(40,70,170,.30);
  color: rgba(0,0,0,.88);
}

.page.isRanking .rankTopBar .dangerBtn{
  background: rgba(255,120,120,.22);
  border-color: rgba(140,30,30,.22);
  color: rgba(0,0,0,.88);
}

/* tira o “embaçado” do ranking */
.page.isRanking .rankCard{
  background: rgba(10,12,20,.70);
  border: 1px solid rgba(255,255,255,.14);
  backdrop-filter: none; /* <- adeus blur */
}

/* linhas do ranking um pouco mais “firmes” */
.page.isRanking .rankRow{
  background: rgba(0,0,0,.26);
  border: 1px solid rgba(255,255,255,.12);
}

/* painel inline das configurações */
.settingsInline{
  margin: 10px 6px 6px;
  padding: 12px;
  border-radius: 14px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
}

.settingsInlineHeader{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 10px;
}

.settingsInlineTitle{
  font-weight: 900;
}

